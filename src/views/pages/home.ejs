<div class="page-header">
  <h1>Welcome to Educard Forum</h1>
  <p class="subtitle">An educational discussion platform for learners and educators.</p>
</div>

<section class="categories-section">
  <h2>Forum Categories</h2>
  
  <% if (categories && categories.length > 0) { %>
    <div class="category-list">
      <% categories.forEach(category => { %>
        <div class="category-card">
          <div class="category-header">
            <h3>
              <a href="/category/<%= category.slug %>"><%= category.name %></a>
            </h3>
          </div>
          <div class="category-body">
            <p class="category-description"><%= category.description %></p>
          </div>
          <div class="category-footer">
            <span class="thread-count">
              <svg class="icon" width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                <path d="M2 2h12v9H4.5L2 13.5V2zm1 1v8.293l1.146-1.147.354-.353H13V3H3z"/>
              </svg>
              <%= category.threadCount || 0 %> 
              <%= (category.threadCount === 1) ? 'thread' : 'threads' %>
            </span>
            <% if (category.lastActivity) { %>
              <div class="last-activity">
                <small>
                  Last: <a href="/thread/<%= category.lastActivity.threadSlug %>"><%= category.lastActivity.threadTitle.substring(0, 30) %><%= category.lastActivity.threadTitle.length > 30 ? '...' : '' %></a>
                  by <a href="/profile/<%= category.lastActivity.author.username %>"><%= category.lastActivity.author.displayName || category.lastActivity.author.username %></a>
                  <time datetime="<%= category.lastActivity.updatedAt %>" class="relative-time" title="<%= new Date(category.lastActivity.updatedAt).toLocaleString('en-US', { year: 'numeric', month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' }) %>">
                    <%= new Date(category.lastActivity.updatedAt).toLocaleString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' }) %>
                  </time>
                </small>
              </div>
            <% } %>
          </div>
        </div>
      <% }) %>
    </div>
  <% } else { %>
    <div class="empty-state">
      <p>No categories available yet.</p>
      <% if (isAuthenticated) { %>
        <p class="empty-state-hint">Check back soon for new categories!</p>
      <% } %>
    </div>
  <% } %>
</section>
